<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–æ—è –ö—Ä–æ—Ö–∞ üíñ</title>
    <style>
        :root {
            --primary-pink: #ff2e82;
            --soft-pink: #ff9ecf;
            --dark-pink: #e62673;
        }

        body {
            margin: 0; padding: 0; min-height: 100vh;
            font-family: 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--soft-pink), #ffc3e6);
            display: flex; justify-content: center; align-items: center;
            text-align: center; color: white; overflow-x: hidden;
        }

        .screen { width: 100%; max-width: 500px; padding: 20px; box-sizing: border-box; }
        .hidden { display: none; }

        h1 { font-size: 2rem; text-shadow: 2px 2px 8px rgba(0,0,0,0.1); }

        /* –ö–Ω–æ–ø–∫–∏ */
        .btn-container { height: 150px; position: relative; margin-top: 30px; }
        button {
            padding: 15px 30px; font-size: 18px; border: none; border-radius: 50px;
            cursor: pointer; font-weight: bold; box-shadow: 0 4px 15px rgba(0,0,0,0.15);
            transition: all 0.3s ease;
        }
        #yesBtn { background: var(--primary-pink); color: white; position: relative; z-index: 10; }
        #noBtn { background: white; color: var(--primary-pink); position: absolute; left: 50%; transform: translateX(-50%); }

        /* –¢–∞–π–º–µ—Ä –∏ –ö–∞—Ä—Ç–æ—á–∫–∏ */
        .love-card {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            padding: 20px; border-radius: 25px; margin: 20px 0;
            border: 1px solid rgba(255,255,255,0.3);
        }
        #timer { font-size: 1.2rem; font-weight: bold; line-height: 1.5; }

        /* –°–ª–∞–π–¥–µ—Ä */
        .slider-container {
            width: 100%; height: 300px; position: relative;
            overflow: hidden; border-radius: 20px; border: 5px solid white;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2); margin: 20px 0;
        }
        .slide {
            width: 100%; height: 100%; object-fit: cover;
            position: absolute; opacity: 0; transition: opacity 0.8s ease;
        }
        .slide.active { opacity: 1; }

        /* –°—Ç–∏—Ä–∞—à–∫–∞ */
        .scratch-container {
            position: relative; width: 300px; height: 150px;
            margin: 20px auto; user-select: none;
        }
        .scratch-text {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: flex; align-items: center; justify-content: center;
            background: white; color: var(--primary-pink);
            border-radius: 15px; padding: 15px; box-sizing: border-box;
            font-size: 0.9rem; font-weight: bold;
        }
        canvas {
            position: absolute; top: 0; left: 0; cursor: crosshair;
            border-radius: 15px; touch-action: none;
        }

        /* –ß–µ–∫–æ–≤–∞—è –∫–Ω–∏–∂–∫–∞ */
        .wishes-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px;
        }
        .wish-item {
            background: white; color: var(--primary-pink);
            padding: 10px; border-radius: 15px; font-size: 0.85rem;
            cursor: pointer; transition: 0.3s; font-weight: bold;
            display: flex; align-items: center; justify-content: center;
        }
        .wish-item:active { transform: scale(0.95); background: var(--primary-pink); color: white; }

        .heart { position: fixed; top: -20px; pointer-events: none; animation: fall linear forwards; z-index: 100; }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }
    </style>
</head>
<body>

    <div id="questionScreen" class="screen">
        <h1>–ú–æ—è –ö—Ä–æ—Ö–∞ üíï<br>–ë—É–¥–µ—à—å –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π?</h1>
        <div class="btn-container">
            <button id="yesBtn">–î–∞! üíò</button>
            <button id="noBtn">–ù–µ—Ç üòÖ</button>
        </div>
    </div>

    <div id="loveScreen" class="screen hidden">
        <h1>–Ø –∑–Ω–∞–ª! üòç</h1>
        
        <div class="love-card">
            <div id="timer">–°—á–∏—Ç–∞—é –Ω–∞—à–µ –≤—Ä–µ–º—è...</div>
        </div>

        <div class="slider-container" id="slider">
            <img src="photo1.jpg" class="slide active">
            <img src="photo2.jpg" class="slide">
            <img src="photo3.jpg" class="slide">
            <img src="photo4.jpg" class="slide">
        </div>

        <p>‚ú® –°–æ—Ç—Ä–∏ —Å–ª–æ–π, —Ç—É—Ç –∫–æ–µ-—á—Ç–æ –≤–∞–∂–Ω–æ–µ: ‚ú®</p>
        <div class="scratch-container">
            <div class="scratch-text">–¢—ã —Å–∞–º–∞—è –ª—É—á—à–∞—è –±—É—Å–∏—á–∫–∞ –Ω–∞ —Å–≤–µ—Ç–µ, –º–Ω–µ —Å —Ç–æ–±–æ–π –±–µ–∑—É–º–Ω–æ –ø–æ–≤–µ–∑–ª–æ. –°–ø–∞—Å–∏–±–æ —á—Ç–æ —Ç—ã –≤—Å–µ–≥–¥–∞ –≤—ã–±–∏—Ä–∞–µ—à—å –º–µ–Ω—è ‚ù§Ô∏è</div>
            <canvas id="scratchCanvas" width="300" height="150"></canvas>
        </div>

        <h3>–¢–≤–æ—è —á–µ–∫–æ–≤–∞—è –∫–Ω–∏–∂–∫–∞ –∂–µ–ª–∞–Ω–∏–π üéÅ</h3>
        <div class="wishes-grid">
            <div class="wish-item" onclick="activateWish(this)">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –º–∞—Å—Å–∞–∂</div>
            <div class="wish-item" onclick="activateWish(this)">–ü–æ–∫—É–ø–∫–∞ –≤–∫—É—Å–Ω—è—à–µ–∫</div>
            <div class="wish-item" onclick="activateWish(this)">–°–¥–µ–ª–∞—Ç—å –≤–º–µ—Å—Ç–µ –π–æ–≥—É</div>
            <div class="wish-item" onclick="activateWish(this)">–ú–æ—Ä–æ–∂–µ–Ω–æ–µ –ø–æ–¥ –†–µ–∞–ª–∏—Ç–∏–®–æ—É</div>
            <div class="wish-item" onclick="activateWish(this)">–¶—å–æ–º–∏–∫ –≤ –ª–æ–±–∏–∫</div>
            <div class="wish-item" onclick="activateWish(this)">–ü—Ä–æ—Å–º–æ—Ç—Ä –ª—é–±–æ–≥–æ –º—É–ª—å—Ç–∏–∫–∞</div>
            <div class="wish-item" onclick="activateWish(this)">–ö–æ—Ñ–µ –≤ –ø–æ—Å—Ç–µ–ª—å)</div>
        </div>

        <button onclick="window.open('http://maps.google.com/?q=Gaisyn', '_blank')" 
                style="background: #4a90e2; color: white; margin-top: 30px; font-size: 14px;">
            –ù–∞—à–µ –º–µ—Å—Ç–æ üìç
        </button>
    </div>

<script>
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const questionScreen = document.getElementById("questionScreen");
    const loveScreen = document.getElementById("loveScreen");

    // 1. –£–ë–ï–ì–ê–Æ–©–ê–Ø –ö–ù–û–ü–ö–ê
    let yesScale = 1;
    function moveButton() {
        const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
        const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
        noBtn.style.position = 'fixed';
        noBtn.style.left = x + 'px';
        noBtn.style.top = y + 'px';
        yesScale += 0.15;
        yesBtn.style.transform = `scale(${yesScale})`;
    }
    noBtn.addEventListener("mouseover", moveButton);
    noBtn.addEventListener("touchstart", (e) => { e.preventDefault(); moveButton(); });

    // 2. –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–ï
    yesBtn.addEventListener("click", () => {
        questionScreen.classList.add("hidden");
        loveScreen.classList.remove("hidden");
        startHearts();
        setInterval(updateTimer, 1000);
        initScratch();
        startSlider();
    });

    // 3. –£–õ–£–ß–®–ï–ù–ù–´–ô –¢–ê–ô–ú–ï–†
    const startDate = new Date('2023-12-24'); 
    function updateTimer() {
        const now = new Date();
        const diff = now - startDate;
        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const mins = Math.floor((diff / 1000 / 60) % 60);
        const secs = Math.floor((diff / 1000) % 60);
        document.getElementById('timer').innerHTML = 
            `–ú—ã –≤–º–µ—Å—Ç–µ —É–∂–µ:<br><b>${days}–¥ : ${hours}—á : ${mins}–º : ${secs}—Å</b><br>—Å—á–∞—Å—Ç–ª–∏–≤—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤ ‚ù§Ô∏è`;
    }

    // 4. –°–õ–ê–ô–î–ï–†
    function startSlider() {
        const slides = document.querySelectorAll('.slide');
        let current = 0;
        setInterval(() => {
            slides[current].classList.remove('active');
            current = (current + 1) % slides.length;
            slides[current].classList.add('active');
        }, 3000);
    }

    // 5. –°–¢–ò–†–ê–®–ö–ê
    function initScratch() {
        const canvas = document.getElementById('scratchCanvas');
        const ctx = canvas.getContext('2d');
        ctx.fillStyle = '#ccc';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#999';
        ctx.font = '20px Arial';
        ctx.textAlign = 'center';
        ctx.fillText('–°—Ç—Ä–∏ —Ç—É—Ç... ‚ú®', 150, 85);

        let isDrawing = false;
        function scratch(e) {
            if (!isDrawing) return;
            const rect = canvas.getBoundingClientRect();
            const x = (e.clientX || e.touches[0].clientX) - rect.left;
            const y = (e.clientY || e.touches[0].clientY) - rect.top;
            ctx.globalCompositeOperation = 'destination-out';
            ctx.beginPath();
            ctx.arc(x, y, 20, 0, Math.PI * 2);
            ctx.fill();
        }
        canvas.addEventListener('mousedown', () => isDrawing = true);
        canvas.addEventListener('mouseup', () => isDrawing = false);
        canvas.addEventListener('mousemove', scratch);
        canvas.addEventListener('touchstart', (e) => { isDrawing = true; scratch(e); });
        canvas.addEventListener('touchend', () => isDrawing = false);
        canvas.addEventListener('touchmove', scratch);
    }

    // 6. –ß–ï–ö–û–í–ê–Ø –ö–ù–ò–ñ–ö–ê
    function activateWish(el) {
        if(!el.innerText.includes('‚úÖ')) {
            el.style.background = '#4CAF50';
            el.style.color = 'white';
            el.innerText = '‚úÖ ' + el.innerText;
            alert('–ñ–µ–ª–∞–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç–æ! –ò—Å–ø–æ–ª–Ω—é –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è ‚ù§Ô∏è');
        }
    }

    // 7. –°–ï–†–î–ï–ß–ö–ò
    function startHearts() {
        setInterval(() => {
            const heart = document.createElement("div");
            heart.classList.add("heart");
            heart.innerHTML = ["‚ù§Ô∏è", "üíñ", "üíï", "üíù"][Math.floor(Math.random() * 4)];
            heart.style.left = Math.random() * 100 + "vw";
            heart.style.fontSize = (Math.random() * 20 + 20) + "px";
            heart.style.animationDuration = (Math.random() * 2 + 3) + "s";
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 5000);
        }, 300);
    }
</script>
</body>
</html>
